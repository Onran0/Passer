## Passer

**Passer** — это минималистичный CLI-менеджер паролей, ориентированный на безопасность, прозрачность и контроль над своими данными.
Программа не требует облачных сервисов, не имеет графического интерфейса и полностью управляется из терминала.

## Что значит "криптографически надёжный"?

1. Мастер-ключ не равен напрямую паролю, а сначала используется как материал для одного из доступных KDF с большим количеством итераций по-умолчанию.
   
    Это значительно уменьшает риск подбора пароля.
2. Для шифрования паролей и информации о них используются современные и проверенные временем криптографические алгоритмы, такие как `AES-GCM` и `PBKDF2`.
3. Из дампа памяти будет весьма проблематично достать пароли, так как все критически важные данные дополнительно шифруются в памяти с использованием комбинированного подхода (`AES-CBC`, `SHA-2`, `XOR` и полу-динамичная соль, привязанная к именам классов).

## Почему он простой?

1. Набор команд минимален и легко запоминается.
2. Каждая команда проста и удобна в использовании.
3. Вы не сможете просто так ошибиться, например, закрыв файл не сохранив изменения. При несоответствии состояний программа всегда предупредит о возможной потере данных.
4. Все пароли хранятся только в локальных зашифрованных файлах. Работа максимально прозрачна и предсказуема.

## Отличия от других менеджеров паролей

| Менеджер | Локальное шифрование | CLI | Прозрачность кода | Зависимости                                                               |
|-----------|----------------------|-----|-------------------|---------------------------------------------------------------------------|
| **Passer** | ✅ AES-GCM, PBKDF2, AES-CBC, SHA-2 | ✅ Да | ✅ Полностью открытый код | 🔹 Только **JRE** (без внешних библиотек, кроме легковесного JOpt Simple) |
| KeePass / KeePassXC | ✅ AES, ChaCha20 | ⚙️ Через плагины / KeePassXC-CLI | ✅ Open-source (C# / C++) | ⚙️ .NET / Qt, плагины, GUI-оболочка                                       |
| Bitwarden | ✅ AES-CBC, PBKDF2, Argon2 | ⚙️ CLI через REST-API | ⚙️ Частично открытый (сервер закрыт у Bitwarden Cloud) | ⚙️ Node.js, npm-пакеты, API, серверная часть                              |
| 1Password | ✅ Собственный формат (опубликованный, но проприетарный) | ⚙️ CLI-клиент | ❌ Закрытый код | ⚙️ Собственный API, SDK, шифрование вне контроля пользователя             |

### Сильные стороны Passer по сравнению с другими

#### Локальное и предсказуемое шифрование
- Passer не использует баз данных — всё хранится в простых зашифрованных бинарных файлах.
- Нет сетевых взаимодействий, фонов синхронизации и внешних API.
- Минимизируется вероятность компрометации данных через облако или зависимость.

#### Шифрование в памяти
- В отличие от большинства менеджеров (KeePass, Bitwarden), где пароли после расшифровки могут временно находиться в открытом виде в heap,  
  **Passer хранит данные в оперативке в зашифрованном виде и расшифровывает их только при обращении**.
- После использования данные мгновенно очищаются из памяти (через нулевание массивов и буферов).
- Алгоритм шифрования памяти комбинирует `AES-CBC + SHA-2 + XOR + соль, зависящую от структуры классов`, что делает извлечение данных из дампа крайне сложным.

#### Минимум зависимостей и кодового следа
- Passer не использует криптографические фреймворки (BouncyCastle, Sodium и т.п.) - только стандартные библиотеки **Java**.
- Это повышает доверие к коду и исключает риск сторонних уязвимостей.
- Код можно легко аудировать и запустить в любой JRE без внешних библиотек.

#### Простая, но сильная модель ключей
- Мастер-пароль не используется напрямую: сначала он пропускается через KDF (PBKDF2) с высоким числом итераций (2 миллиона).  
  Это исключает возможность прямого подбора по словарю.
- Все производные ключи изолированы и не сохраняются на диск.
- Данные в файле дополнительно снабжены аутентификацией через AES-GCM (что защищает не только от чтения, но и от подмены данных).

#### CLI без компромиссов
- Интерфейс Passer предельно прост, но функционален - всё управление происходит через текстовые команды.
- Ошибки и несоответствия состояний обрабатываются явно, с предупреждениями и безопасными сценариями.
- CLI работает одинаково во всех системах, где есть **Java**.

### Когда Passer лучше
| Сценарий | Почему Passer лучше |
|-----------|--------------------|
| Вы не хотите зависеть от облаков | Полностью офлайн |
| Вы хотите прозрачный и легко аудируемый код | Открытый исходник, минимум зависимостей |
| Вам важно безопасное хранение в памяти | Данные в ОЗУ шифруются |
| Вы работаете на сервере или в терминале | CLI-интерфейс без GUI и зависимостей |
| Вы хотите полное управление над файлами | Простая файловая модель, никаких баз данных |

## Подробнее о безопасности

- Пароли никогда не хранятся в открытом виде.
- Мастер-пароль, ключ и производные значения не сохраняются на диск.
- Все важные данные, такие как мастер-пароль и сами пароли из файла зашифрованы в памяти, а при использовании временно расшифровываются в памяти и затем полностью очищаются.
- При потере мастер-пароля восстановление невозможно.

## Установка

Скачайте последний релиз из раздела **Releases**.

Для работы требуется установленная **Java Runtime Environment 17** или новее.

Запустить программу можно через команду `java -jar Passes.jar`

## Пример использования

```cmd
>> usage make

Argument      Description
--------      -----------
[filepath]   path to file

Option     Description
------     -----------
-h, --hex  Specify password type is HEX

>> make test.passer
enter password:
file successfully created

>> usage add
Option (* = required)            Description
---------------------            -----------
* -c, --cap, --caption <String>  Caption of password
-g, --gen, --generate            Specify that the password should be generated
                                   automatically
-l, --log, --login <String>      Login of password
-s, --service, --srv <String>    Service of password
-t, --type <[TEXT,BINARY]>       Type of password

>> add -c CoolPassword -l mail@example.com -s example.shop.com -g
new password with caption "CoolPassword" successfully added and its id is "0"

>> list
ID     Caption                                        Login                         Service
0      CoolPassword                                   mail@example.com              example.shop.com

>> info 0
caption: CoolPassword
login: mail@example.com
service: example.shop.com
password type: text
is password autogenerated: true
creation time: 2025-10-27 21:44:45 (UTC+9:00)
modification time: 2025-10-27 21:44:45 (UTC+9:00)

>> copy 0
password has been copied to the clipboard and will be erased from there in 1 minute

>> save
file successfully saved

>> close
file closed

>> exit
```

## Сборка

Позже этот раздел будет доработан.

Вы можете собрать программу, например, в **Intellij IDEA**, склонировав репозиторий, создав новый артефакт и установив в нём главный класс на `com.github.onran0.passer.cli.PasserCLI`